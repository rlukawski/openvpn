version: '3.8'

services:
  openvpn-client:
    image: rlukawski/openvpn-client:latest
    privileged: true
    platform: linux/arm64
    network_mode: host
    build:
      context: ./openvpn
      dockerfile: ./Dockerfile
    volumes:
      - /etc/openvpn/client:/etc/openvpn/client

  hostapd-client:
    image: rlukawski/hostapd-client:latest
    privileged: true
    platform: linux/arm64
    network_mode: host
    build:
      context: ./hostapd
      dockerfile: ./Dockerfile
    environment:
      - WIFI_PASSWORD=${WIFI_PASSWORD}
